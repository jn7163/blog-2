<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Blog of Y. T. Chung">
    <meta name="author" content="Y. T. Chung">
    <title>{% block title %}Blog{% end %}</title>

    <link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen"/>
    <link href="/static/font-awesome/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="/static/css/fonts.css" rel="stylesheet"/>

    <script src="/static/js/jquery-2.0.3.min.js"></script>
    <script>
      $(document).ready(function() {
        $("#navLoginButton").popover({
          title: "Login",
          placement: "bottom",
          html: true,
          content: '<form action="/user/login" method="post" id="loginForm" role="form"><div class="form-group"><div class="input-group"><span class="input-group-addon"><i class="icon-user"></i></span><input type="text" name="username" placeholder="Username" class="form-control"/></div></div><div class="form-group"><div class="input-group"><span class="input-group-addon"><i class="icon-lock"></i></span><input type="password" name="password" placeholder="Password" class="form-control"/></div></div><div class="form-group"><label class="checkbox"><input type="checkbox" name="remember" value="true"/>Remember me</label></div><div class="form-group"><button type="submit" class="btn btn-primary btn-block" data-loading-text="Processing..."><span class="glyphicon glyphicon-log-in"> Login</span></button></div></form>'
        }).click(function(e) {
          e.preventDefault();
          $("#loginForm").submit(function() {
            $.ajax({
              type: "POST",
              url: "/user/login",
              data: $(this).serialize(),
              success: function(data) {
                alert(data.username + data.password + data.remember);
              }
            });
            return false;
          });
        });
        
      });
    </script>
    <style>
      body {
        padding-top: 70px;
        padding-bottom: 40px;
        color: #5a5a5a;
      }
    </style>

    {% block head %}
    {% end %}
  </head>
  <body>
    <div class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">YTBlog</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            {% block nav %}
            <li><a href="/">Home</a></li>
            <li><a href="/blog">Blog</a></li>
            <li><a href="#contact">Contact</a></li>
            {% end %}
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li id="navLoginButton" class="dropdown"><a href="#" class="dropdown-toggle" role="button"><i class="icon-user"></i> Login <b class="caret"></b></a></li>
          </ul>
        </div><!--/.nav-collapse -->

      </div>
    </div>

    {% block content %}
    {% end %}

    <footer>
      <div class="container">
        <hr>
        <p class="pull-right"><i class="icon-arrow-up"></i> <a href="#">Back to top</a></p>
        <p>&copy; 2013 Y. T. Chung &middot; Powered by <a href="http://getbootstrap.com/" target="_blank">Bootstrap</a>, <a href="http://www.tornadoweb.org/" target="_blank">Tornado</a></p>
      </div>
    </footer>

    <script src="/static/bootstrap/js/bootstrap.min.js"></script>
  </body>
</html>


